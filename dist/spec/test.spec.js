!function(e){function t(n){if(a[n])return a[n].exports;var r=a[n]={exports:{},id:n,loaded:!1};return e[n].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var a={};return t.m=e,t.c=a,t.p="",t(0)}([function(e,t,a){"use strict";var n=a(7),r=a(8),o=a(9),i=a(10),c=a(3),s=function(){function e(){}return e}(),l=new s;l.type="text",l.name="testName";var u="Some text to test with";l.define=u;var p=function(){function e(){}return e}(),g=new p;g.name="page1",g.rawLayout=[l],g.callback=[{bindToName:"testName",callbackFunction:function(){console.log("OK")}}];var d=new p;d.name="page2";var h="page1",m="Title",f=function(){function e(){this.title=m,this.currentPageName=h,this.startPageName=h,this.pages=[g,d]}return e.prototype.injectActionService=function(e){this._as=e},e.prototype.startAddingPages=function(){this.pages.push(g),this.pages.push(d)},e.prototype.CentralCallbackFunc=function(e,t){},e}(),v=new f;describe("Tests for StateService",function(){var e=new n.StateService(v);it("getStartPageName() should return the specified string",function(){var t=e.getStartPageName();expect(t).toEqual(h)}),it("getCurrentPageName() should return the correct string",function(){var t=e.getCurrentPageName();expect(t).toEqual(h)}),it("setCurrentPageName() should set the name of the current page",function(){var t="New Name";e.setCurrentPageName(t);var a=e.getCurrentPageName();expect(a).toEqual(t),e.setCurrentPageName(h)}),it("getCurrentPage() should return an IPage object of the current page",function(){var t=e.getCurrentPage();expect(t.name).toEqual("page1")}),it("getPage() should return an IPage object with the specified name",function(){var t=e.getPage("page2");expect(t.name).toEqual("page2")}),it("getPage() should return undefined if a string that does not match an existing page name is passed to it",function(){var t=e.getPage("page3");expect(t).toEqual(void 0)}),it("getPages() should return an array of all the pages the app contains",function(){var t=e.getPages();expect(t).toEqual([g,d])}),it("emulatorCentralCallBack() to call CentralCallbackFunc()",function(){spyOn(v,"CentralCallbackFunc"),e.emulatorCentralCallBack(l),expect(v.CentralCallbackFunc).toHaveBeenCalledWith(g.name,"testName"),e.emulatorCentralCallBack(l,"test"),expect(v.CentralCallbackFunc).toHaveBeenCalledWith(g.name,"testName","test")}),it("getAppCallBack() should return the correct function",function(){var t=e.getAppCallBack();expect(t("test","test")).toEqual(v.CentralCallbackFunc("test","test"))})});var y=function(){function e(){this._app=v}return e.prototype.getCurrentPage=function(){return g},e.prototype.getCurrentPageName=function(){return g.name},e.prototype.getStartPageName=function(){return g.name},e.prototype.setCurrentPageName=function(e){g.name=e},e.prototype.getPages=function(){return v.pages},e.prototype.getPage=function(e){return g},e.prototype.emulatorCentralCallBack=function(e,t){},e}(),S=new y;describe("Tests for TemplatingService",function(){var e=new r.TemplatingService(S);describe("createPage() should return a jQuery object",function(){var t=new p;t.name="testPage",it("that for button type contains right ID, classes, definition",function(){var a=new s;a.type="button",a.name="buttonElement",a.define="buttonElementDefinition",t.rawLayout=[a];var n=e.createPage(t);expect($("button",n).attr("id")).toEqual(a.name),expect($(".btn",n)).toHaveText(a.define)}),it("that for text type contains right ID, p and text elements",function(){var a=new s;a.type="text",a.name="textElement",a.define="textElementDefinition",t.rawLayout=[a];var n=e.createPage(t);expect($("#textElement",n)).toExist(),expect($("p",n)).toHaveText(a.define)}),it("that for image type contains right ID, class, img attr and img source",function(){var a=new s;a.type="image",a.name="imageElement",a.define="../dist/assets/food.png",t.rawLayout=[a];var n=e.createPage(t);expect($("#imageElement",n)).toExist(),expect($(".img-fluid",n)).toExist(),expect($("img",n).attr("src")).toEqual(a.define)}),it("that for input type contains the right classes, attributes and text",function(){var a=new s;a.type="input",a.name="inputElement",a.define="inputElementDefinition",t.rawLayout=[a];var n=e.createPage(t);expect($(".form-group",n)).toExist(),expect($(".sr-only",n)).toExist(),expect($(".form-control",n)).toExist(),expect($("label",n).attr("for")).toEqual(a.name),expect($("input",n).attr("type")).toEqual("text"),expect($("input",n).attr("id")).toEqual(a.name),expect($("input",n).attr("for")).toEqual(a.name),expect($("input",n).attr("placeholder")).toEqual(a.define),expect($("input",n)).toHaveText(a.define)}),it("that for list type contains the right classes and descriptions",function(){var a=new s;a.type="list",a.name="listElement",a.define=[{title:"item1",description:"item1Desc",url:"item1url"},{title:"item2",description:"item2Desc",url:"item2url"}],t.rawLayout=[a];var n=e.createPage(t);expect($(".list-group",n)).toExist(),expect($("h5",n)).toHaveHtml("item1"),expect($("h5:nth(1)",n)).toHaveHtml("item2"),expect($("p",n)).toHaveHtml("item1Desc"),expect($("p:nth(1)",n)).toHaveHtml("item2Desc")})}),it("createPagesAndSave() should call createPage the right number of times",function(){spyOn(e,"createPage"),e.createPagesAndSave(),expect(e.createPage.calls.count()).toBe(2)}),it("createLayout() should return a jQuery object with a div of class conatiner-fluid",function(){var t=e.createLayout();expect($(t)).toHaveClass("container-fluid"),expect($(t)).toEqual("div")}),it("removeElementFromDOM() should remove the specified element from the DOM",function(){setFixtures("<div class='container-fluid'></div>"),expect($(".container-fluid")).toExist(),e.removeElementFromDOM(".container-fluid"),expect($(".container-fluid")).not.toExist()}),it("createjQueryItem() should return the correct jQuery object",function(){var t=e.createjQueryItem("div",[{key:"id",value:"testID"}],"testClass","testString");expect($(t)).toHaveId("testID"),expect($(t)).toHaveClass("testClass")})});var P=function(){function e(){}return e.prototype.createPage=function(e){return $(document.createElement("div")).addClass("testingClass")},e.prototype.createPagesAndSave=function(){},e.prototype.createLayout=function(){return $(document.createElement("div"))},e.prototype.removeElementFromDOM=function(e){},e.prototype.createjQueryItem=function(e,t,a,n){return $(document.createElement("div")).addClass("testingClass")},e}(),x=new P;describe("Tests for SystemService method",function(){var e=new o.SystemService(x,S);it("removeCurrentPageFromScreen() should remove the current page from the DOM",function(){spyOn(x,"removeElementFromDOM"),e.removeCurrentPageFromScreen(),expect(x.removeElementFromDOM).toHaveBeenCalledWith(".container-fluid")}),it("goPage() should remove the current page, and show the new one",function(){d.afterRenderLayout=$(document.createElement("div")).addClass("second"),setFixtures("<div class='emulator'></div>"),expect($(".second")).not.toExist(),spyOn(e,"removeCurrentPageFromScreen"),spyOn(e,"renewCurrentPage"),e.goPage("page2"),expect(e.removeCurrentPageFromScreen).toHaveBeenCalled(),expect(e.renewCurrentPage).toHaveBeenCalledWith("page2"),expect($(".second")).toExist()}),describe("renderAllPages() should",function(){it("if called with a page, should rerender the page",function(){spyOn(x,"createPage").and.callThrough(),spyOn(S,"getPage").and.callThrough(),expect($(g.afterRenderLayout)).not.toExist(),e.renderAllPages(g),expect(x.createPage).toHaveBeenCalledWith(g),expect(S.getPage).toHaveBeenCalledWith(g.name),expect($(g.afterRenderLayout)).toExist()}),it("if called with no arguments, call createPagesAndSave()",function(){spyOn(x,"createPagesAndSave"),e.renderAllPages(),expect(x.createPagesAndSave).toHaveBeenCalledWith()})}),it("goStartPage() should call getStartPageName and goPage",function(){spyOn(S,"getStartPageName"),spyOn(e,"goPage"),e.goStartPage(),expect(S.getStartPageName).toHaveBeenCalled(),expect(e.goPage).toHaveBeenCalled()}),it("renewCurrentPage() should call setCurrentPageName from StateService",function(){spyOn(S,"setCurrentPageName"),e.renewCurrentPage("testName"),expect(S.setCurrentPageName).toHaveBeenCalledWith("testName")}),it("startEmulator() should call hideSplashScreen,renderAllPages and goStartPage",function(t){spyOn(e,"hideSplashScreen"),spyOn(e,"renderAllPages"),spyOn(e,"goStartPage"),e.startEmulator();var a=10,n=(new Date).getTime()+1e4,r=function(){(new Date).getTime()<=n&&e.goStartPage.calls.count()<1?setTimeout(r,a):(expect(e.hideSplashScreen).toHaveBeenCalled(),expect(e.renderAllPages).toHaveBeenCalled(),expect(e.goStartPage).toHaveBeenCalled(),t())};r()},1e4),it("hideSplashScreen() should hide the splash screen",function(){setFixtures("<div class='splashScreen'></div>"),expect($(".splashScreen")).toBeVisible(),e.hideSplashScreen(),expect($(".splashScreen")).not.toBeVisible()}),it("showNotification() should show a notification, and then fade it out",function(t){setFixtures("<div class='emulator'></div>"),expect($(".testingClass")).not.toBeVisible(),e.showNotification("blah"),expect($(".testingClass")).toBeVisible();var a=10,n=(new Date).getTime()+5e3,r=function(){(new Date).getTime()<=n&&$(".testingClass").is(":visible")?setTimeout(r,a):(expect($(".testingClass")).not.toBeVisible(),t())};r()},5e3)}),describe("Tests for ActionService",function(){var e=new o.SystemService(x,S),t=new i.ActionService(e);it("goPage() should call goPage from SystemService",function(){spyOn(e,"goPage"),t.goPage("page1"),expect(e.goPage).toHaveBeenCalledWith("page1")}),it("showNotification() should call showNotification from SystemService",function(){spyOn(e,"showNotification"),t.showNotification("showNotification"),expect(e.showNotification).toHaveBeenCalledWith("showNotification")}),it("reRenderPage() should renderAllPages from SystemService",function(){spyOn(e,"renderAllPages"),t.reRenderPage(g),expect(e.renderAllPages).toHaveBeenCalledWith(g)})});var C=function(){function e(){this._systemService=new o.SystemService(x,S)}return e.prototype.goPage=function(e){},e.prototype.showNotification=function(e){},e.prototype.callYelpSearchAPI=function(e,t){},e.prototype.reRenderPage=function(e){},e.prototype.saveToLocalStorage=function(e,t){},e.prototype.getFromLocalStorage=function(e){return""},e}(),b=new C;describe("Tests for Application",function(){var e=new c.application;it("injectActionService() should store the injected ActionService",function(){e.injectActionService(b),expect(e._actionService).toBe(b)}),e.startAddingPages(),it("startAddingPages() should add three objects into the apps pages array",function(){expect(e.pages.length).toEqual(3)}),describe("appCallBack() when called with",function(){it("page1button to call callYelpSearchAPI (in ActionService)",function(){spyOn(b,"callYelpSearchAPI"),e.appCallback("test","page1button","searchTerm"),expect(b.callYelpSearchAPI).toHaveBeenCalled()}),it("home to call getMatchedFunctino with the right arguments",function(){spyOn(e,"getMatchedFunction"),e.getMatchedFunction("test","home"),expect(e.getMatchedFunction).toHaveBeenCalledWith("test","home")}),it("mapButton to call getMatchedFunctino with the right arguments",function(){spyOn(e,"getMatchedFunction"),e.getMatchedFunction("test","mapButton"),expect(e.getMatchedFunction).toHaveBeenCalledWith("test","mapButton")}),it("backToResults to call getMatchedFunctino with the right arguments",function(){spyOn(e,"getMatchedFunction"),e.getMatchedFunction("test","backToResults"),expect(e.getMatchedFunction).toHaveBeenCalledWith("test","backToResults")})}),it("getMatchedFunction() should return the correct function",function(){var t=e.getMatchedFunction("page3Map","backToResults");expect(t).toEqual(e.pages[2].callback[0].callbackFunction)}),describe("tailorYelpResult() should",function(){var t=e.tailorYelpResult(void 0),a={};it("return the the error message when called with undefined",function(){expect(t.indexOf("Sorry")).toBeGreaterThan(-1)}),it("return the a string with appropriate contents if called with an empty json object",function(){t=e.tailorYelpResult(a),expect(t.indexOf("Rating")).toBeGreaterThan(-1)}),a={location:{address:["150 Stuart St"],coordinate:{latitude:-45.8744,longitude:170.504}}},it("return a string with appropriate details when called with a populated json object",function(){t=e.tailorYelpResult(a),expect(t.indexOf("150 Stuart St")).toBeGreaterThan(-1)}),it("call googleMapsHelper with the coords if called with a json object containing them",function(){spyOn(e,"googleMapsHelper"),t=e.tailorYelpResult(a),expect(e.googleMapsHelper).toHaveBeenCalledWith("-45.8744,170.504")})}),it("googleMapsHelper() should return the correct string",function(){var t="45.00,45.00",a=e.googleMapsHelper(t);expect(a.indexOf(t)).toEqual(186),t="asdfasdf",a=e.googleMapsHelper(t),expect(a.indexOf(t)).toEqual(186)})})},,,function(e,t,a){"use strict";var n=a(4),r=a(5),o=a(6),i=function(){function e(){this.title="YumE",this.currentPageName="",this.startPageName="page1search",this.pages=[],this.CentralCallbackFunc=this.appCallback}return e.prototype.injectActionService=function(e){this._actionService=e},e.prototype.startAddingPages=function(){this.pages.push(new n.page1search),this.pages.push(new r.page2list),this.pages.push(new o.page3Map)},e.prototype.appCallback=function(e,t,a){var n,r=this;switch(t){case"page1button":a?this._actionService.callYelpSearchAPI(a,function(o){for(var i=r.tailorYelpResult(o),c=0,s=r.pages;c<s.length;c++){var l=s[c];if("page2list"===l.name){for(var u=0,p=l.rawLayout;u<p.length;u++){var g=p[u];"text"===g.type&&"page2text"===g.name?g.define=i:"image"===g.type&&"undefined"!=typeof o&&("undefined"!=typeof o.image_url?g.define=o.image_url:g.define="assets/food.png")}r._actionService.reRenderPage(l);break}}(n=r.getMatchedFunction(e,t,a))(r._actionService,a)}):this.getMatchedFunction(e,t)(this._actionService);break;case"home":n=this.getMatchedFunction("page2list",t),n(this._actionService);break;case"mapButton":this._actionService.reRenderPage(this.pages[2]),n=this.getMatchedFunction("page2list",t),n(this._actionService);break;case"backToResults":n=this.getMatchedFunction("page3Map",t),n(this._actionService)}},e.prototype.getMatchedFunction=function(e,t,a){for(var n,r,o=0,i=this.pages;o<i.length;o++){var c=i[o];if(c.name===e){r=c;break}}for(var s=0,l=r.callback;s<l.length;s++){var u=l[s];if(u.bindToName===t){n=u;break}}return n.callbackFunction},e.prototype.tailorYelpResult=function(e){var t;if(e){var a=e,n=a.name?a.name:"",r=a.phone?a.phone:"",o=a.rating?a.rating:"",i=a.categories?a.categories[0][0]:"",c=a.snippet_text?a.snippet_text:"",s=void 0,l=void 0,u=void 0;a.location?(s=a.location.address?a.location.address[0]:"",a.location.coordinate?(l=a.location.coordinate.latitude,u=a.location.coordinate.longitude):l=u=0):(s="",l=u=0);for(var p=0,g=this.pages[2].rawLayout;p<g.length;p++){var d=g[p];if("image"===d.type){var h=""+l+","+u;d.define=this.googleMapsHelper(h);break}}t="<br/><strong>Title: </strong>"+n+"<br/><strong>Phone: </strong>"+r+"   |  <strong>Address: </strong>"+s+"<br/><strong>Rating: </strong>"+o+"   |  <strong>Category: </strong>"+i+"<br/><strong>Comment: </strong>"+c}else t="<br/>Sorry, Yelp can't recognize your keyword, please go back and search again.",this.pages[1].rawLayout[3].define="./assets/cry.png";return t},e.prototype.googleMapsHelper=function(e){var t="https://maps.googleapis.com/maps/api/staticmap?&size=300x230&maptype=roadmap&visible=Octagon,Dunedin,NZ&markers=color:yellow%7Clabel:U%7C-45.8743,170.5036&markers=color:blue%7Clabel:F%7C",a="&key=AIzaSyDHTnM42xU_IGgOk0OGswZGOAtDRr8e66I";return t+e+a},e}();t.application=i},function(e,t){"use strict";var a=function(){function e(){this.name="page1search",this.rawLayout=this.returnRawLayout(),this.afterRenderLayout=null,this.callback=this.returnCallbackFuncs()}return e.prototype.returnRawLayout=function(){return[{type:"image",name:"page1image",define:"./assets/YuMe_logo.jpg"},{type:"text",name:"page1text",define:"Search better, eat fatter :)"},{type:"input",name:"page1input",define:"Enter the name"},{type:"button",name:"page1button",targetElementID:"page1input",define:"YumE it!"},{type:"text",name:"page1text1",define:" "}]},e.prototype.returnCallbackFuncs=function(){return[{bindToName:"page1button",targetID:"page1text",callbackFunction:this.searchButtonCallBack}]},e.prototype.searchButtonCallBack=function(e,t){t&&""!=t?e.goPage("page2list"):e.showNotification("Please enter the name of restaurant.")},e}();t.page1search=a},function(e,t){"use strict";var a=function(){function e(){this.name="page2list",this.rawLayout=this.returnRawLayout(),this.afterRenderLayout=null,this.callback=this.returnCallbackFuncs()}return e.prototype.returnRawLayout=function(){return[{type:"text",name:"page2placeholder",define:" "},{type:"button",name:"home",define:"Back"},{type:"text",name:"page2placeholder",define:" "},{type:"image",name:"page2image",define:"./assets/cry.png"},{type:"text",name:"page2text",define:"I really love it"},{type:"button",name:"mapButton",define:"Map"}]},e.prototype.returnCallbackFuncs=function(){return[{bindToName:"home",callbackFunction:this.goBackButtonCallBack},{bindToName:"mapButton",callbackFunction:this.goMapCallBack}]},e.prototype.goBackButtonCallBack=function(e){e.goPage("page1search")},e.prototype.goMapCallBack=function(e){e.goPage("page3Map")},e}();t.page2list=a},function(e,t){"use strict";var a=function(){function e(){this.defaultMap="https://maps.googleapis.com/maps/api/staticmap?&size=300x230&maptype=roadmap&visible=Octagon,Dunedin,NZ&markers=color:yellow%7Clabel:U%7C-45.8743,170.5036&key=AIzaSyDHTnM42xU_IGgOk0OGswZGOAtDRr8e66I",this.name="page3Map",this.rawLayout=this.returnRawLayout(),this.afterRenderLayout=null,this.callback=this.returnCallbackFuncs()}return e.prototype.returnRawLayout=function(){return[{type:"text",name:"page3placeholder",define:" "},{type:"button",name:"backToResults",define:"Back"},{type:"button",name:"home",define:"Search"},{type:"text",name:"page3placeholder",define:" "},{type:"image",name:"page3image",define:this.defaultMap}]},e.prototype.returnCallbackFuncs=function(){return[{bindToName:"backToResults",callbackFunction:this.goBackButtonCallBack},{bindToName:"home",callbackFunction:this.goHomeCallBack}]},e.prototype.goBackButtonCallBack=function(e){e.goPage("page2list")},e.prototype.goHomeCallBack=function(e){e.goPage("page1search")},e}();t.page3Map=a},function(e,t){"use strict";var a=function(){function e(e){this._app=e}return e.prototype.getStartPageName=function(){return this._app.startPageName},e.prototype.getCurrentPageName=function(){return this._app.currentPageName},e.prototype.setCurrentPageName=function(e){this._app.currentPageName=e},e.prototype.getCurrentPage=function(){for(var e,t=this._app.currentPageName,a=0,n=this._app.pages;a<n.length;a++){var r=n[a];if(r.name===t){e=r;break}}return e},e.prototype.getPage=function(e){for(var t,a=0,n=this._app.pages;a<n.length;a++){var r=n[a];if(r.name===e){t=r;break}}return t},e.prototype.getPages=function(){return this._app.pages},e.prototype.emulatorCentralCallBack=function(e,t){var a=this.getStartPageName();t?this._app.CentralCallbackFunc(a,e.name,t):this._app.CentralCallbackFunc(a,e.name)},e.prototype.getAppCallBack=function(){return this._app.CentralCallbackFunc},e}();t.StateService=a},function(e,t){"use strict";var a=function(){function e(e){this._stateService=e}return e.prototype.createPage=function(e){for(var t,a=this,n=this.createLayout(),r=function(e){var r=o.createjQueryItem("div",void 0,"row",void 0),i=e;switch(i.type){case"button":var c=o.createjQueryItem("button",[{key:"id",value:i.name}],"btn btn-primary btn-lg btn-block",i.define);if(i.targetElementID?$(".emulator").on("click","#"+i.name,function(){var e=$("#"+i.targetElementID).val();a._stateService.emulatorCentralCallBack(i,e)}):$(".emulator").on("click","#"+i.name,function(){a._stateService.emulatorCentralCallBack(i)}),$(".btn",n).length){t=$(".btn",n);var s=12/(t.length+1);t.after(c),t=$(".btn",n),t.removeClass("btn-block"),t.addClass("col-sm-"+s)}else r.append(c);break;case"text":var l=o.createjQueryItem("p",[{key:"id",value:i.name}],void 0,i.define);r.append(l);break;case"image":var u=o.createjQueryItem("img",[{key:"id",value:i.name},{key:"src",value:i.define}],"img-fluid");r.append(u);break;case"input":var p=o.createjQueryItem("div",void 0,"form-group"),g=o.createjQueryItem("label",[{key:"for",value:i.name}],"sr-only",i.define);p.append(g);var d=o.createjQueryItem("input",[{key:"type",value:"text"},{key:"id",value:i.name},{key:"for",value:i.name},{key:"placeholder",value:i.define}],"form-control",i.define);p.append(d),r.append(p);break;case"list":for(var h=o.createjQueryItem("div",void 0,"list-group"),m=i.define,f=function(e){var t=o.createjQueryItem("a",void 0,"list-group-item list-group-item-action");$(".emulator").on("click","#"+i.name,function(){a._stateService.emulatorCentralCallBack(i,e.url)});var n=o.createjQueryItem("h5",void 0,"list-group-item-heading",e.title),r=o.createjQueryItem("p",void 0,"list-group-item-text",e.description);t.append(n),t.append(r),h.append(t)},v=0,y=m;v<y.length;v++){var S=y[v];f(S)}r.append(h)}n.append(r)},o=this,i=0,c=e.rawLayout;i<c.length;i++){var s=c[i];r(s)}return n},e.prototype.createPagesAndSave=function(){for(var e=0,t=this._stateService.getPages();e<t.length;e++){var a=t[e];a.afterRenderLayout=this.createPage(a)}},e.prototype.createLayout=function(){return this.createjQueryItem("div",void 0,"container-fluid")},e.prototype.removeElementFromDOM=function(e){$(e).remove()},e.prototype.createjQueryItem=function(e,t,a,n){var r=$(document.createElement(e));if(a&&r.addClass(a),t)for(var o=0,i=t;o<i.length;o++){var c=i[o];r.attr(c.key,c.value)}return n&&r.html(n),r},e}();t.TemplatingService=a},function(e,t){"use strict";var a=function(){function e(e,t){this._templatingService=e,this._stateService=t}return e.prototype.removeCurrentPageFromScreen=function(){this._templatingService.removeElementFromDOM(".container-fluid")},e.prototype.goPage=function(e){this.removeCurrentPageFromScreen();for(var t=0,a=this._stateService.getPages();t<a.length;t++){var n=a[t];n.name===e&&($(".emulator").prepend(n.afterRenderLayout),this.renewCurrentPage(n.name))}},e.prototype.renderAllPages=function(e){if(e){var t=this._templatingService.createPage(e);this._stateService.getPage(e.name).afterRenderLayout=t}else this._templatingService.createPagesAndSave()},e.prototype.goStartPage=function(){this.goPage(this._stateService.getStartPageName())},e.prototype.renewCurrentPage=function(e){this._stateService.setCurrentPageName(e)},e.prototype.startEmulator=function(){var e=this,t=this._templatingService.createjQueryItem("div",void 0,"splashScreen"),a=this._templatingService.createjQueryItem("p",void 0,"brand","Smartisan");$(".emulator").append(t),t.append(a),t.fadeIn("slow",function(){a.fadeIn("slow").fadeOut("slow").fadeIn("slow",function(){e.hideSplashScreen(),e.renderAllPages(),e.goStartPage()})})},e.prototype.hideSplashScreen=function(){$(".splashScreen").fadeOut("slow").remove()},e.prototype.showNotification=function(e){var t=this._templatingService.createjQueryItem("div",void 0,"bg-danger",e);$(".emulator").prepend(t),setTimeout(function(){t.fadeOut("slow").remove()},2e3)},e}();t.SystemService=a},function(e,t){"use strict";var a=function(){function e(e){this._systemService=e}return e.prototype.goPage=function(e){this._systemService.goPage(e)},e.prototype.showNotification=function(e){this._systemService.showNotification(e)},e.prototype.saveToLocalStorage=function(e,t){localStorage.setItem(e,t)},e.prototype.getFromLocalStorage=function(e){return localStorage.getItem(e)},e.prototype.reRenderPage=function(e){this._systemService.renderAllPages(e)},e.prototype.callYelpSearchAPI=function(e,t){var a={consumerKey:"sNul62e6H0We5KJLGYP_Bw",consumerSecret:"RxvIBp4BxRvNVxjaPlUWuiPFcYg",accessToken:"nguVll4te_e1oDcv2EkS4xKC6GOoQhcN",accessTokenSecret:"DrumlhFl5Kwb1ksCpRKEtiW6B58",serviceProvider:{signatureMethod:"HMAC-SHA1"}},n=e,r="Dunedin",o="restaurants,food,bars",i={consumerSecret:a.consumerSecret,tokenSecret:a.accessTokenSecret},c=[];c.push(["term",n]),c.push(["location",r]),c.push(["category_filter",o]),c.push(["callback","cb"]),c.push(["oauth_consumer_key",a.consumerKey]),c.push(["oauth_consumer_secret",a.consumerSecret]),c.push(["oauth_token",a.accessToken]),c.push(["oauth_signature_method","HMAC-SHA1"]);var s={action:"https://api.yelp.com/v2/search",method:"GET",parameters:c};OAuth.setTimestampAndNonce(s),OAuth.SignatureMethod.sign(s,i);var l=OAuth.getParameterMap(s.parameters);$.ajax({url:s.action,data:l,dataType:"jsonp",jsonpCallback:"cb",cache:!0}).done(function(e,a,n){t(e.businesses[0])}).fail(function(e,t,a){console.log("error["+a+"], status["+t+"], jqXHR["+JSON.stringify(e)+"]")})},e}();t.ActionService=a}]);
//# sourceMappingURL=test.spec.js.map