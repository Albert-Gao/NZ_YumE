!function(e){function t(r){if(a[r])return a[r].exports;var n=a[r]={exports:{},id:r,loaded:!1};return e[r].call(n.exports,n,n.exports,t),n.loaded=!0,n.exports}var a={};return t.m=e,t.c=a,t.p="",t(0)}([function(e,t,a){"use strict";var r=a(5),n=a(6),o=a(7);jasmine.getFixtures().fixturesPath="../spec/";var i=function(){function e(){}return e}(),c=new i;c.type="text",c.name="testName";var u="Some text to test with";c.define=u;var s=function(){function e(){}return e}(),l=new s;l.name="page1",l.rawLayout=[c];var p=new s;p.name="page2";var g="page1",m="Title",f=function(){function e(){this.title=m,this.currentPageName=g,this.startPageName=g,this.pages=[l,p]}return e.prototype.injectActionService=function(e){},e.prototype.startAddingPages=function(){},e.prototype.CentralCallbackFunc=function(e,t){},e}(),d=new f;describe("Tests for StateService",function(){var e=new r.StateService(d);it("getStartPageName() should return the specified string",function(){var t=e.getStartPageName();expect(t).toEqual(g)}),it("getStartPageName() should return a string",function(){var t=e.getCurrentPageName();expect(t).toEqual(g)}),it("setCurrentPageName() should set the name of the current page",function(){var t="New Name";e.setCurrentPageName(t);var a=e.getCurrentPageName();expect(a).toEqual(t),e.setCurrentPageName(g)}),it("getCurrentPage() should return an IPage object of the current page",function(){var t=e.getCurrentPage();expect(t.name).toEqual("page1")}),it("getPage() should return an IPage object with the specified name",function(){var t=e.getPage("page2");expect(t.name).toEqual("page2")}),it("getPage() should return undefined if a string that does not match an existing page name is passed to it",function(){var t=e.getPage("page3");expect(t).toEqual(void 0)}),it("getPages() should return an array of all the pages the app contains",function(){var t=e.getPages();expect(t).toEqual([l,p])}),it("emulatorCentralCallBack() to call CentralCallbackFunc()",function(){spyOn(d,"CentralCallbackFunc"),e.emulatorCentralCallBack(c),expect(d.CentralCallbackFunc).toHaveBeenCalledWith(l.name,"testName"),e.emulatorCentralCallBack(c,"test"),expect(d.CentralCallbackFunc).toHaveBeenCalledWith(l.name,"testName","test")}),it("getAppCallBack() should return the correct function",function(){var t=e.getAppCallBack();expect(t("test","test")).toEqual(d.CentralCallbackFunc("test","test"))})});var v=function(){function e(){this._app=d}return e.prototype.getCurrentPage=function(){return l},e.prototype.getCurrentPageName=function(){return l.name},e.prototype.getStartPageName=function(){return l.name},e.prototype.setCurrentPageName=function(e){l.name=e},e.prototype.getPages=function(){return d.pages},e.prototype.getPage=function(e){return l},e}(),h=new v;describe("Tests for TemplatingService",function(){var e=new n.TemplatingService(h);describe("createPage() should return a jQuery object",function(){it("that for text type contains right ID, p and text elements",function(){var t=e.createPage(l);expect($("#testName",t)).toExist(),expect($("p",t)).toHaveText(u)})}),it("createPagesAndSave() should call createPage the right number of times",function(){spyOn(e,"createPage"),e.createPagesAndSave(),expect(e.createPage.calls.count()).toBe(2)}),it("createLayout() should return a jQuery object with a div of class conatiner-fluid",function(){var t=e.createLayout();expect($(t)).toHaveClass("container-fluid"),expect($(t)).toEqual("div")}),it("removeElementFromDOM() should remove the specified element from the DOM",function(){setFixtures("<div class='container-fluid'></div>"),expect($(".container-fluid")).toExist(),e.removeElementFromDOM(".container-fluid"),expect($(".container-fluid")).not.toExist()}),it("createjQueryItem() should return the correct jQuery object",function(){var t=e.createjQueryItem("div",[{key:"id",value:"testID"}],"testClass","testString");expect($(t)).toHaveId("testID"),expect($(t)).toHaveClass("testClass")})});var y=function(){function e(){}return e.prototype.createPage=function(e){return $(document.createElement("div"))},e.prototype.createPagesAndSave=function(){},e.prototype.createLayout=function(){return $(document.createElement("div"))},e.prototype.removeElementFromDOM=function(e){},e.prototype.createjQueryItem=function(e,t,a,r){return $(document.createElement("div")).addClass("testingClass")},e}(),P=new y;describe("Tests for SystemService",function(){var e=new o.SystemService(P,h);it("removeCurrentPageFromScreen() should remove the current page from the DOM",function(){spyOn(P,"removeElementFromDOM"),e.removeCurrentPageFromScreen(),expect(P.removeElementFromDOM).toHaveBeenCalledWith(".container-fluid")}),it("goPage() should ...",function(){}),it("renderAllPages() should ...",function(){}),it("goStartPage() should ...",function(){}),it("renewCurrentPage() should ...",function(){}),it("startEmulator() should ...",function(t){spyOn(e,"hideSplashScreen"),spyOn(e,"renderAllPages"),spyOn(e,"goStartPage"),e.startEmulator();var a=10,r=(new Date).getTime()+1e4,n=function(){(new Date).getTime()<=r&&e.goStartPage.calls.count()<1?setTimeout(n,a):(expect(e.hideSplashScreen).toHaveBeenCalled(),expect(e.renderAllPages).toHaveBeenCalled(),expect(e.goStartPage).toHaveBeenCalled(),t())};n()},1e4),it("hideSplashScreen() should hide the splash screen",function(){setFixtures("<div class='splashScreen'></div>"),expect($(".splashScreen")).toBeVisible(),e.hideSplashScreen(),expect($(".splashScreen")).not.toBeVisible()}),it("showNotification() should show a notification, and then fade it out",function(t){setFixtures("<div class='emulator'></div>"),expect($(".testingClass")).not.toBeVisible(),e.showNotification("blah"),expect($(".testingClass")).toBeVisible();var a=10,r=(new Date).getTime()+5e3,n=function(){(new Date).getTime()<=r&&$(".testingClass").is(":visible")?setTimeout(n,a):(expect($(".testingClass")).not.toBeVisible(),t())};n()},5e3)}),describe("Tests for ActionService",function(){it("goPage() should ...",function(){}),it("renderAllPages() should ...",function(){}),it("goStartPage() should ...",function(){}),it("renewCurrentPage() should ...",function(){}),it("startEmulator() should ...",function(){})})},,,,,function(e,t){"use strict";var a=function(){function e(e){this._app=e}return e.prototype.getStartPageName=function(){return this._app.startPageName},e.prototype.getCurrentPageName=function(){return this._app.currentPageName},e.prototype.setCurrentPageName=function(e){this._app.currentPageName=e},e.prototype.getCurrentPage=function(){for(var e,t=this._app.currentPageName,a=0,r=this._app.pages;a<r.length;a++){var n=r[a];if(n.name===t){e=n;break}}return e},e.prototype.getPage=function(e){for(var t,a=0,r=this._app.pages;a<r.length;a++){var n=r[a];if(n.name===e){t=n;break}}return t},e.prototype.getPages=function(){return this._app.pages},e.prototype.emulatorCentralCallBack=function(e,t){var a=this.getStartPageName();t?this._app.CentralCallbackFunc(a,e.name,t):this._app.CentralCallbackFunc(a,e.name)},e.prototype.getAppCallBack=function(){return this._app.CentralCallbackFunc},e}();t.StateService=a},function(e,t){"use strict";var a=function(){function e(e){this._stateService=e}return e.prototype.createPage=function(e){for(var t=this,a=this.createLayout(),r=function(e){var r=n.createjQueryItem("div",void 0,"row",void 0),o=e;switch(o.type){case"button":var i=n.createjQueryItem("button",[{key:"id",value:o.name}],"btn btn-primary btn-lg btn-block",o.define);o.targetElementID?$(".emulator").on("click","#"+o.name,function(){var e=$("#"+o.targetElementID).val();t._stateService.emulatorCentralCallBack(o,e)}):$(".emulator").on("click","#"+o.name,function(){t._stateService.emulatorCentralCallBack(o)}),r.append(i);break;case"text":var c=n.createjQueryItem("p",[{key:"id",value:o.name}],void 0,o.define);r.append(c);break;case"image":var u=n.createjQueryItem("img",[{key:"id",value:o.name},{key:"src",value:o.define}],"img-fluid");r.append(u);break;case"input":var s=n.createjQueryItem("div",void 0,"form-group"),l=n.createjQueryItem("label",[{key:"for",value:o.name}],"sr-only",o.define);s.append(l);var p=n.createjQueryItem("input",[{key:"type",value:"text"},{key:"id",value:o.name},{key:"for",value:o.name},{key:"placeholder",value:o.define}],"form-control",o.define);s.append(p),r.append(s);break;case"list":for(var g=n.createjQueryItem("div",void 0,"list-group"),m=o.define,f=function(e){var a=n.createjQueryItem("a",void 0,"list-group-item list-group-item-action");$(".emulator").on("click","#"+o.name,function(){t._stateService.emulatorCentralCallBack(o,e.url)});var r=n.createjQueryItem("h5",void 0,"list-group-item-heading",e.title),i=n.createjQueryItem("p",void 0,"list-group-item-text",e.description);a.append(r),a.append(i),g.append(a)},d=0,v=m;d<v.length;d++){var h=v[d];f(h)}}a.append(r)},n=this,o=0,i=e.rawLayout;o<i.length;o++){var c=i[o];r(c)}return a},e.prototype.createPagesAndSave=function(){for(var e=0,t=this._stateService.getPages();e<t.length;e++){var a=t[e];a.afterRenderLayout=this.createPage(a)}},e.prototype.createLayout=function(){return this.createjQueryItem("div",void 0,"container-fluid")},e.prototype.removeElementFromDOM=function(e){$(e).remove()},e.prototype.createjQueryItem=function(e,t,a,r){var n=$(document.createElement(e));if(a&&n.addClass(a),t)for(var o=0,i=t;o<i.length;o++){var c=i[o];n.attr(c.key,c.value)}return r&&n.html(r),n},e}();t.TemplatingService=a},function(e,t){"use strict";var a=function(){function e(e,t){this._templatingService=e,this._stateService=t}return e.prototype.removeCurrentPageFromScreen=function(){this._templatingService.removeElementFromDOM(".container-fluid")},e.prototype.goPage=function(e){this.removeCurrentPageFromScreen();for(var t=0,a=this._stateService.getPages();t<a.length;t++){var r=a[t];r.name===e&&($(".emulator").prepend(r.afterRenderLayout),this.renewCurrentPage(r.name))}},e.prototype.renderAllPages=function(e){if(e){var t=this._templatingService.createPage(e);this._stateService.getPage(e.name).afterRenderLayout=t}else this._templatingService.createPagesAndSave()},e.prototype.goStartPage=function(){this.goPage(this._stateService.getStartPageName())},e.prototype.renewCurrentPage=function(e){this._stateService.setCurrentPageName(e)},e.prototype.startEmulator=function(){var e=this,t=this._templatingService.createjQueryItem("div",void 0,"splashScreen"),a=this._templatingService.createjQueryItem("p",void 0,"brand","Loading");$(".emulator").append(t),t.append(a),t.fadeIn("slow",function(){a.fadeIn("slow").fadeOut("slow").fadeIn("slow",function(){e.hideSplashScreen(),e.renderAllPages(),e.goStartPage()})})},e.prototype.hideSplashScreen=function(){$(".splashScreen").fadeOut("slow").remove()},e.prototype.showNotification=function(e){var t=this._templatingService.createjQueryItem("div",void 0,"bg-danger",e);$(".emulator").prepend(t),setTimeout(function(){t.fadeOut("slow").remove()},2e3)},e}();t.SystemService=a}]);
//# sourceMappingURL=test.spec.js.map