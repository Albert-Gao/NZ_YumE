{"version":3,"sources":["webpack:///spec/test.spec.js","webpack:///webpack/bootstrap 7137d7b8210e175321b2?7171","webpack:///../spec/test.spec.ts","webpack:///./emulator/services/StateService.ts?b70c","webpack:///./emulator/services/TemplatingService.ts?e74f"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","StateService_1","TemplatingService_1","jasmine","getFixtures","fixturesPath","MockElement","aMockElement","type","name","testText","define","MockPage","page1","rawLayout","page2","pageName","appTitle","MockApp","this","title","currentPageName","startPageName","pages","prototype","injectActionService","as","startAddingPages","CentralCallbackFunc","elementID","myMockApp","describe","testStateService","StateService","it","getStartPageName","expect","toEqual","getCurrentPageName","newName","setCurrentPageName","currentPage","getCurrentPage","page","getPage","undefined","getPages","spyOn","emulatorCentralCallBack","toHaveBeenCalledWith","fn","getAppCallBack","MockStateService","_app","myMockStateService","testTemplatingService","TemplatingService","aJQObject","createPage","$","toExist","toHaveText","createPagesAndSave","calls","count","toBe","createLayout","toHaveClass","setFixtures","removeElementFromDOM","not","aJQItem","createjQueryItem","key","value","toHaveId","app","returnPage","targetName","_i","_a","length","element","targetElementInfo","stateService","_stateService","_this","outDiv","_loop_1","element1","row","this_1","temp","targetElementID","targetText_1","text","on","append","temp1","temp2","temp3","label","input","listGroup","listItemsData","listItemsData_1","item","a","click","h5","description","_b","afterRenderLayout","className","remove","attrs","styleClasses","domElement","document","createElement","addClass","attrs_1","attr"],"mappings":"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","file":"./spec/test.spec.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar StateService_1 = __webpack_require__(4);\n\tvar TemplatingService_1 = __webpack_require__(5);\n\tjasmine.getFixtures().fixturesPath = \"../spec/\";\n\tvar MockElement = (function () {\n\t    function MockElement() {\n\t    }\n\t    return MockElement;\n\t}());\n\tvar aMockElement = new MockElement();\n\taMockElement.type = \"text\";\n\taMockElement.name = \"testName\";\n\tvar testText = \"Some text to test with\";\n\taMockElement.define = testText;\n\tvar MockPage = (function () {\n\t    function MockPage() {\n\t    }\n\t    return MockPage;\n\t}());\n\tvar page1 = new MockPage();\n\tpage1.name = \"page1\";\n\tpage1.rawLayout = [aMockElement];\n\tvar page2 = new MockPage();\n\tpage2.name = \"page2\";\n\tvar pageName = \"page1\";\n\tvar appTitle = \"Title\";\n\tvar MockApp = (function () {\n\t    function MockApp() {\n\t        this.title = appTitle;\n\t        this.currentPageName = pageName;\n\t        this.startPageName = pageName;\n\t        this.pages = [page1, page2];\n\t    }\n\t    MockApp.prototype.injectActionService = function (as) { };\n\t    ;\n\t    MockApp.prototype.startAddingPages = function () { };\n\t    ;\n\t    MockApp.prototype.CentralCallbackFunc = function (pageName, elementID) { };\n\t    ;\n\t    return MockApp;\n\t}());\n\tvar myMockApp = new MockApp();\n\tdescribe('Tests for StateService', function () {\n\t    var testStateService = new StateService_1.StateService(myMockApp);\n\t    it('getStartPageName() should return the specified string', function () {\n\t        var startPageName = testStateService.getStartPageName();\n\t        expect(startPageName).toEqual(pageName);\n\t    });\n\t    it('getStartPageName() should return a string', function () {\n\t        var currentPageName = testStateService.getCurrentPageName();\n\t        expect(currentPageName).toEqual(pageName);\n\t    });\n\t    it('setCurrentPageName() should set the name of the current page', function () {\n\t        var newName = \"New Name\";\n\t        testStateService.setCurrentPageName(newName);\n\t        var currentPageName = testStateService.getCurrentPageName();\n\t        expect(currentPageName).toEqual(newName);\n\t        testStateService.setCurrentPageName(pageName);\n\t    });\n\t    it(\"getCurrentPage() should return an IPage object of the current page\", function () {\n\t        var currentPage = testStateService.getCurrentPage();\n\t        expect(currentPage.name).toEqual(\"page1\");\n\t    });\n\t    it(\"getPage() should return an IPage object with the specified name\", function () {\n\t        var page = testStateService.getPage(\"page2\");\n\t        expect(page.name).toEqual(\"page2\");\n\t    });\n\t    it(\"getPage() should return undefined if a string that does not match\" +\n\t        \" an existing page name is passed to it\", function () {\n\t        var page = testStateService.getPage(\"page3\");\n\t        expect(page).toEqual(undefined);\n\t    });\n\t    it(\"getPages() should return an array of all the pages the app contains\", function () {\n\t        var pages = testStateService.getPages();\n\t        expect(pages).toEqual([page1, page2]);\n\t    });\n\t    it(\"emulatorCentralCallBack() to call CentralCallbackFunc()\", function () {\n\t        spyOn(myMockApp, 'CentralCallbackFunc');\n\t        testStateService.emulatorCentralCallBack(aMockElement);\n\t        expect(myMockApp.CentralCallbackFunc).toHaveBeenCalledWith(\"testName\");\n\t        testStateService.emulatorCentralCallBack(aMockElement, \"test\");\n\t        expect(myMockApp.CentralCallbackFunc).toHaveBeenCalledWith(\"testName\", \"test\");\n\t    });\n\t    it(\"getAppCallBack() should return the correct function\", function () {\n\t        var fn = testStateService.getAppCallBack();\n\t        expect(fn(\"test\", \"test\")).toEqual(myMockApp.CentralCallbackFunc(\"test\", \"test\"));\n\t    });\n\t});\n\tvar MockStateService = (function () {\n\t    function MockStateService() {\n\t        this._app = myMockApp;\n\t    }\n\t    MockStateService.prototype.getCurrentPage = function () { return page1; };\n\t    ;\n\t    MockStateService.prototype.getCurrentPageName = function () { return page1.name; };\n\t    ;\n\t    MockStateService.prototype.getStartPageName = function () { return page1.name; };\n\t    ;\n\t    MockStateService.prototype.setCurrentPageName = function (name) { page1.name = name; };\n\t    ;\n\t    MockStateService.prototype.getPages = function () { return myMockApp.pages; };\n\t    ;\n\t    MockStateService.prototype.getPage = function (name) { return page1; };\n\t    ;\n\t    return MockStateService;\n\t}());\n\tvar myMockStateService = new MockStateService();\n\tdescribe('Tests for TemplatingService', function () {\n\t    var testTemplatingService = new TemplatingService_1.TemplatingService(myMockStateService);\n\t    describe('createPage() should return a jQuery object', function () {\n\t        it('that for text type contains right ID, p and text elements', function () {\n\t            var aJQObject = testTemplatingService.createPage(page1);\n\t            expect($(\"#testName\", aJQObject)).toExist();\n\t            expect($(\"p\", aJQObject)).toHaveText(testText);\n\t        });\n\t    });\n\t    it('createPagesAndSave() should call createPage the right number of times', function () {\n\t        spyOn(testTemplatingService, 'createPage');\n\t        testTemplatingService.createPagesAndSave();\n\t        expect(testTemplatingService.createPage.calls.count()).toBe(2);\n\t    });\n\t    it('createLayout() should return a jQuery object with a div of class conatiner-fluid', function () {\n\t        var aJQObject = testTemplatingService.createLayout();\n\t        expect($(aJQObject)).toHaveClass(\"container-fluid\");\n\t        expect($(aJQObject)).toEqual(\"div\");\n\t    });\n\t    it('removeElementFromDOM() should remove the specified element from the DOM', function () {\n\t        setFixtures(\"<div class='container-fluid'></div>\");\n\t        expect($(\".container-fluid\")).toExist();\n\t        testTemplatingService.removeElementFromDOM(\".container-fluid\");\n\t        expect($(\".container-fluid\")).not.toExist();\n\t    });\n\t    it('createjQueryItem() should return the correct jQuery object', function () {\n\t        var aJQItem = testTemplatingService.createjQueryItem(\"div\", [{ key: \"id\", value: \"testID\" }], \"testClass\", \"testString\");\n\t        expect($(aJQItem)).toHaveId(\"testID\");\n\t        expect($(aJQItem)).toHaveClass(\"testClass\");\n\t    });\n\t});\n\tdescribe('Tests for SystemService', function () {\n\t});\n\tdescribe('Tests for ActionService', function () {\n\t});\n\n\n/***/ },\n/* 1 */,\n/* 2 */,\n/* 3 */,\n/* 4 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\tvar StateService = (function () {\n\t    function StateService(app) {\n\t        this._app = app;\n\t    }\n\t    StateService.prototype.getStartPageName = function () {\n\t        return this._app.startPageName;\n\t    };\n\t    StateService.prototype.getCurrentPageName = function () {\n\t        return this._app.currentPageName;\n\t    };\n\t    StateService.prototype.setCurrentPageName = function (name) {\n\t        this._app.currentPageName = name;\n\t    };\n\t    StateService.prototype.getCurrentPage = function () {\n\t        var targetName = this._app.currentPageName;\n\t        var returnPage;\n\t        for (var _i = 0, _a = this._app.pages; _i < _a.length; _i++) {\n\t            var page = _a[_i];\n\t            if (page.name === targetName) {\n\t                returnPage = page;\n\t            }\n\t        }\n\t        return returnPage;\n\t    };\n\t    StateService.prototype.getPage = function (name) {\n\t        var returnPage;\n\t        for (var _i = 0, _a = this._app.pages; _i < _a.length; _i++) {\n\t            var page = _a[_i];\n\t            if (page.name === name) {\n\t                returnPage = page;\n\t            }\n\t        }\n\t        return returnPage;\n\t    };\n\t    StateService.prototype.getPages = function () {\n\t        return this._app.pages;\n\t    };\n\t    StateService.prototype.emulatorCentralCallBack = function (element, targetElementInfo) {\n\t        if (targetElementInfo) {\n\t            this._app.CentralCallbackFunc(element.name, targetElementInfo);\n\t        }\n\t        else {\n\t            this._app.CentralCallbackFunc(element.name);\n\t        }\n\t    };\n\t    StateService.prototype.getAppCallBack = function () {\n\t        return this._app.CentralCallbackFunc;\n\t    };\n\t    return StateService;\n\t}());\n\texports.StateService = StateService;\n\n\n/***/ },\n/* 5 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\tvar TemplatingService = (function () {\n\t    function TemplatingService(stateService) {\n\t        this._stateService = stateService;\n\t    }\n\t    TemplatingService.prototype.createPage = function (page) {\n\t        var _this = this;\n\t        var outDiv = this.createLayout();\n\t        var _loop_1 = function(element1) {\n\t            var row = this_1.createjQueryItem(\"div\", undefined, \"row\", undefined);\n\t            var element = element1;\n\t            switch (element.type) {\n\t                case \"button\":\n\t                    var temp = this_1.createjQueryItem(\"button\", [{ key: \"id\", value: element.name }], \"btn btn-primary btn-lg btn-block\", element.define);\n\t                    if (element.targetElementID) {\n\t                        var targetText_1 = $(element.targetElementID).text();\n\t                        $(\".emulator\").on('click', \"#\" + element.name, function () {\n\t                            _this._stateService.emulatorCentralCallBack(element, targetText_1);\n\t                        });\n\t                    }\n\t                    else {\n\t                        $(\".emulator\").on('click', \"#\" + element.name, function () {\n\t                            _this._stateService.emulatorCentralCallBack(element);\n\t                        });\n\t                    }\n\t                    row.append(temp);\n\t                    break;\n\t                case \"text\":\n\t                    var temp1 = this_1.createjQueryItem(\"p\", [{ key: \"id\", value: element.name }], undefined, element.define);\n\t                    row.append(temp1);\n\t                    break;\n\t                case \"image\":\n\t                    var temp2 = this_1.createjQueryItem(\"img\", [{ key: \"id\", value: element.name }, { key: \"src\", value: element.define }], \"img-fluid\");\n\t                    row.append(temp2);\n\t                    break;\n\t                case \"input\":\n\t                    var temp3 = this_1.createjQueryItem(\"div\", undefined, \"form-group\");\n\t                    var label = this_1.createjQueryItem(\"label\", [{ key: \"for\", value: element.name }], \"sr-only\", element.define);\n\t                    temp3.append(label);\n\t                    var input = this_1.createjQueryItem(\"input\", [{ key: \"type\", value: \"text\" }, { key: \"id\", value: element.name }, { key: \"for\", value: element.name }, { key: \"placeholder\", value: element.define }], \"form-control\", element.define);\n\t                    temp3.append(input);\n\t                    row.append(temp3);\n\t                    break;\n\t                case \"list\":\n\t                    var listGroup = this_1.createjQueryItem(\"div\", undefined, \"list-group\");\n\t                    var listItemsData = (element.define);\n\t                    for (var _i = 0, listItemsData_1 = listItemsData; _i < listItemsData_1.length; _i++) {\n\t                        var item = listItemsData_1[_i];\n\t                        var a = this_1.createjQueryItem(\"a\", undefined, \"list-group-item list-group-item-action\");\n\t                        a.click(this_1._stateService.emulatorCentralCallBack(element));\n\t                        var h5 = this_1.createjQueryItem(\"h5\", undefined, \"list-group-item-heading\", item.title);\n\t                        var p = this_1.createjQueryItem(\"p\", undefined, \"list-group-item-text\", item.description);\n\t                        a.append(h5);\n\t                        a.append(p);\n\t                        listGroup.append(a);\n\t                    }\n\t                    break;\n\t            }\n\t            outDiv.append(row);\n\t        };\n\t        var this_1 = this;\n\t        for (var _a = 0, _b = page.rawLayout; _a < _b.length; _a++) {\n\t            var element1 = _b[_a];\n\t            _loop_1(element1);\n\t        }\n\t        return outDiv;\n\t    };\n\t    TemplatingService.prototype.createPagesAndSave = function () {\n\t        for (var _i = 0, _a = this._stateService.getPages(); _i < _a.length; _i++) {\n\t            var page = _a[_i];\n\t            page.afterRenderLayout = this.createPage(page);\n\t        }\n\t    };\n\t    TemplatingService.prototype.createLayout = function () {\n\t        return this.createjQueryItem('div', undefined, \"container-fluid\");\n\t    };\n\t    TemplatingService.prototype.removeElementFromDOM = function (className) {\n\t        $(className).remove();\n\t    };\n\t    TemplatingService.prototype.createjQueryItem = function (type, attrs, styleClasses, text) {\n\t        var domElement = $(document.createElement(type));\n\t        if (styleClasses) {\n\t            domElement.addClass(styleClasses);\n\t        }\n\t        if (attrs) {\n\t            for (var _i = 0, attrs_1 = attrs; _i < attrs_1.length; _i++) {\n\t                var item = attrs_1[_i];\n\t                domElement.attr(item.key, item.value);\n\t            }\n\t        }\n\t        if (text) {\n\t            domElement.text(text);\n\t        }\n\t        return domElement;\n\t    };\n\t    return TemplatingService;\n\t}());\n\texports.TemplatingService = TemplatingService;\n\n\n/***/ }\n/******/ ]);\n\n\n/** WEBPACK FOOTER **\n ** spec/test.spec.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 7137d7b8210e175321b2\n **/","///<reference path=\"../src/emulator/ui/types/jquery.d.ts\" />\n///<reference path=\"typings/jasmine-jquery.d.ts\" />\n\nimport {IStateService} from \"../src/emulator/models/serviceModels/IStateService\";\nimport {ITemplatingService} from \"../src/emulator/models/serviceModels/ITemplatingService\";\nimport {IPage} from \"../src/emulator/models/dataModels/IPage\";\nimport {IApp} from \"../src/emulator/models/dataModels/IApp\";\nimport {IElement} from \"../src/emulator/models/dataModels/IElement\";\nimport {IListItem} from \"../src/emulator/models/dataModels/IListItem\";\nimport {IFunc} from \"../src/emulator/models/dataModels/IFunction\";\nimport {StateService} from \"../src/emulator/services/StateService\";\nimport {TemplatingService} from \"../src/emulator/services/TemplatingService\";\nimport {IActionService} from \"../src/emulator/models/serviceModels/IActionService\";\n\njasmine.getFixtures().fixturesPath = \"../spec/\";\n//need to launch Chrome/Chromium with --allow-file-access-from-files option\n//for fixtures to work. Works in standard FireFox.\n//see https://github.com/velesin/jasmine-jquery#cross-domain-policy-problems-under-chrome\n//can load a fixture with loadFixtures('myFixture.html');\n\nclass MockElement implements IElement {\n\ttype;\n    name:string;\n    //targetElementID?:string;\n    define:string|Array<IListItem>;\n}\nlet aMockElement = new MockElement();\naMockElement.type = \"text\";\naMockElement.name = \"testName\";\nlet testText: string = \"Some text to test with\";\naMockElement.define = testText;\n\nclass MockPage implements IPage {\n\tname: string; \n\trawLayout:Array<IElement>;\n\tafterRenderLayout: JQuery;\n\tcallback:Array<IFunc>;\n}\nlet page1 = new MockPage();\npage1.name = \"page1\";\npage1.rawLayout = [aMockElement];\nlet page2 = new MockPage();\npage2.name = \"page2\";\n\nlet pageName: string = \"page1\";\nlet appTitle: string = \"Title\";\nclass MockApp implements IApp {\n    title:string = appTitle;\n    currentPageName:string = pageName;\n    startPageName:string = pageName;\n    pages:Array<IPage> = [page1, page2];\n    injectActionService(as:IActionService) {};\n    startAddingPages() {};\n    CentralCallbackFunc(pageName:string, elementID?:string) {};\n}\nlet myMockApp = new MockApp();\n\ndescribe('Tests for StateService', () => {\n    let testStateService: StateService = new StateService(myMockApp);  \n    it('getStartPageName() should return the specified string', () => {\n        let startPageName: string  = testStateService.getStartPageName();\n        expect(startPageName).toEqual(pageName);\n    });\n    it('getStartPageName() should return a string', () => {\n        let currentPageName: string = testStateService.getCurrentPageName();\n        expect(currentPageName).toEqual(pageName);\n    });\n    it('setCurrentPageName() should set the name of the current page', () => {\n    \tlet newName :string = \"New Name\";\n    \ttestStateService.setCurrentPageName(newName);\n        let currentPageName: string = testStateService.getCurrentPageName();\n        expect(currentPageName).toEqual(newName);\n        testStateService.setCurrentPageName(pageName); \n        //as \"new name\" is not actually a page\n    });\n    it(\"getCurrentPage() should return an IPage object of the current page\", () => {\n    \tlet currentPage: IPage = testStateService.getCurrentPage();\n    \texpect(currentPage.name).toEqual(\"page1\");\n    });\n    it(\"getPage() should return an IPage object with the specified name\", () => {\n    \tlet page: IPage = testStateService.getPage(\"page2\");\n    \texpect(page.name).toEqual(\"page2\");\n    });\n    it(\"getPage() should return undefined if a string that does not match\" +\n    \t\" an existing page name is passed to it\", () => {\n    \tlet page: IPage = testStateService.getPage(\"page3\");\n    \texpect(page).toEqual(undefined);\n    });\n    it(\"getPages() should return an array of all the pages the app contains\", () => {\n    \tlet pages: Array<IPage> = testStateService.getPages();\n    \texpect(pages).toEqual([page1, page2]);\n    });\n    it(\"emulatorCentralCallBack() to call CentralCallbackFunc()\", () => {\n    \tspyOn(myMockApp, 'CentralCallbackFunc');\n    \ttestStateService.emulatorCentralCallBack(aMockElement);\n    \texpect(myMockApp.CentralCallbackFunc).toHaveBeenCalledWith(\"testName\");\n    \ttestStateService.emulatorCentralCallBack(aMockElement, \"test\");\n    \texpect(myMockApp.CentralCallbackFunc).toHaveBeenCalledWith(\"testName\", \"test\");\n    });\n    it(\"getAppCallBack() should return the correct function\", () => {\n    \tlet fn = testStateService.getAppCallBack();\n    \texpect(fn(\"test\", \"test\")).toEqual(myMockApp.CentralCallbackFunc(\"test\", \"test\"));\n    })\n});\n\nclass MockStateService implements IStateService{\n    _app:IApp = myMockApp;\n    getCurrentPage():IPage {return page1};\n    getCurrentPageName():string {return page1.name};\n    getStartPageName():string {return page1.name};\n    setCurrentPageName(name:string) {page1.name = name};\n    getPages():Array<IPage> {return myMockApp.pages};\n    getPage(name:string ):IPage {return page1};\n    getAppCallBack:(element:IElement,targetElementInfo?:string)=>void;\n    emulatorCentralCallBack:(element:IElement,targetElementInfo?:string)=>void;\n}\nlet myMockStateService = new MockStateService();\n\ndescribe('Tests for TemplatingService', () => {\n\tlet testTemplatingService: TemplatingService = new TemplatingService(myMockStateService);\n\tdescribe('createPage() should return a jQuery object', () => {\n\t    it('that for text type contains right ID, p and text elements', () => {\n\t        let aJQObject: JQuery  = testTemplatingService.createPage(page1);\n\t        expect($(\"#testName\", aJQObject)).toExist();\n\t        expect($(\"p\", aJQObject)).toHaveText(testText);\n\t        //console.log($(\"#testName\", aJQObject)[0].outerHTML)\n\t    });\n\t});\n    it('createPagesAndSave() should call createPage the right number of times', () => {\n    \tspyOn(testTemplatingService, 'createPage');\n    \ttestTemplatingService.createPagesAndSave();\n        expect(testTemplatingService.createPage.calls.count()).toBe(2);\n    });\n    it('createLayout() should return a jQuery object with a div of class conatiner-fluid', () => {\n    \tlet aJQObject: JQuery  = testTemplatingService.createLayout();\n        expect($(aJQObject)).toHaveClass(\"container-fluid\");\n    \texpect($(aJQObject)).toEqual(\"div\");\n    });\n    it('removeElementFromDOM() should remove the specified element from the DOM', () => {\n    \tsetFixtures(\"<div class='container-fluid'></div>\");\n    \texpect($(\".container-fluid\")).toExist();\n        testTemplatingService.removeElementFromDOM(\".container-fluid\");\n        expect($(\".container-fluid\")).not.toExist();\n    });\n    it('createjQueryItem() should return the correct jQuery object', () => {\n    \tlet aJQItem: JQuery = testTemplatingService.createjQueryItem(\"div\",\n    \t\t [{key:\"id\", value:\"testID\"}], \"testClass\", \"testString\");\n        //Note that for below, don't need a selector, as the object is just one element.\n        //When passing a selector and context, only searches within that context, not including\n        //the parent, so $(#testID, aJQItem) will return an empty jQuery object\n        expect($(aJQItem)).toHaveId(\"testID\");\n        expect($(aJQItem)).toHaveClass(\"testClass\");\n        //below is just a reminder on how to see the actual html for debugging as needed\n        //expect(aJQItem[0].outerHTML).toHaveId(\"testID\");\n    });\n});\n\ndescribe('Tests for SystemService', () => {\n\n});\n\ndescribe('Tests for ActionService', () => {\n\n});\n/*Previous tests for reference\n/// <reference path=\"../typings/jasmine/jasmine.d.ts\" />\n\ndescribe('Tests for the FindViewModel', () => {\n    it('getKeyword() should return a string', () => {\n        let returnValue: string = (new FindViewModel()).getKeyword();\n        expect(returnValue).toEqual(jasmine.any(String));\n    });\n\n    it('getKeywordByVoice() should return a string', () => {\n        let checkThisValue: string;\n        class mockSpeech implements ISpeechService {\n            recognize(): string {\n                return checkThisValue;\n            }\n        }\n\n        let testFindViewModel = new FindViewModel();\n        let findKeywordByVoice = testFindViewModel.getKeywordByVoice(new mockSpeech());\n        expect(findKeywordByVoice).toEqual(checkThisValue);\n    });\n});\n\ndescribe('Test for the HistoryViewModel', () => {\n    it('getHistoryList() should return something', () => {\n        let vm = new HistoryViewModel(new StorageService());\n        let returnValue: IListItem[] = vm.getHistoryList();\n        expect(returnValue).not.toBeNull();\n    });\n});\n\ndescribe('Test for the RecommendViewModel', () => {\n    it('getHistoryList() should return something', () => {\n        let vm = new RecommendViewModel(new StorageService());\n        let returnValue: IListItem[] = vm.getHistoryList();\n        expect(returnValue).not.toBeNull();\n    });\n});\n*/\n\n\n/** WEBPACK FOOTER **\n ** ../spec/test.spec.ts\n **/","import {IStateService} from \"../models/serviceModels/IStateService\";\nimport {IPage} from \"../models/dataModels/IPage\";\nimport {IApp} from \"../models/dataModels/IApp\";\nimport {IElement} from \"../models/dataModels/IElement\";\n\n\nexport class StateService implements IStateService{\n    _app: IApp;\n\n    constructor(app: IApp) {\n        this._app = app;\n    }\n\n    getStartPageName(): string {\n        return this._app.startPageName;\n    }\n\n    getCurrentPageName(): string {\n        return this._app.currentPageName;\n    }\n\n    setCurrentPageName(name: string) {\n        this._app.currentPageName = name;\n    }\n\n    getCurrentPage(): IPage {\n        let targetName:string = this._app.currentPageName;\n        let returnPage:IPage;\n        for (let page of this._app.pages){\n            if (page.name === targetName){\n                returnPage = page;\n            }\n        }\n        return returnPage;\n    }\n\n    getPage(name: string): IPage {\n        let returnPage:IPage;\n        for (let page of this._app.pages){\n            if (page.name === name){\n                returnPage = page;\n            }\n        }\n        return returnPage;\n    }\n\n    getPages(): Array<IPage> {\n        return this._app.pages;\n    }\n    //\n    // setRenderPage(pageName:string, pageLayouts:Array<JQuery>) {\n    //     _.map(this._app.pages, function(page:IPage){\n    //       _.forEach(pageLayouts,function(singleLayout:JQuery){\n    //           page.afterRenderLayout = singleLayout;\n    //       });\n    //     })\n    // }\n\n    emulatorCentralCallBack(element: IElement, targetElementInfo?: string)  {\n        //console.log(\"i am here\");\n        if (targetElementInfo){\n            this._app.CentralCallbackFunc(element.name, targetElementInfo);\n        } else {\n            this._app.CentralCallbackFunc(element.name);\n        }\n    }\n\n    getAppCallBack():(pageName:string, elementID?:string)=>void{\n        return this._app.CentralCallbackFunc;\n    }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./emulator/services/StateService.ts\n **/","///<reference path=\"../ui/types/jquery.d.ts\" />\n\nimport {IPage} from '../models/dataModels/IPage'\nimport {ITemplatingService} from \"../models/serviceModels/ITemplatingService\";\nimport {IElement} from \"../models/dataModels/IElement\";\nimport {IStateService} from \"../models/serviceModels/IStateService\";\nimport {IListItem} from \"../models/dataModels/IListItem\";\n\nexport class TemplatingService implements ITemplatingService {\n    _stateService: IStateService;\n\n    constructor(stateService: IStateService) {\n        this._stateService = stateService;\n    }\n\n    createPage(page: IPage): JQuery {\n        let outDiv: JQuery = this.createLayout();\n\n        for (let element1 of page.rawLayout){\n            let row = this.createjQueryItem(\"div\",\n                undefined,\n                \"row\",\n                undefined);\n            let element:IElement = element1;\n            switch (element.type) {\n                case \"button\":\n                    let temp = this.createjQueryItem(\"button\",\n                        [{key:\"id\", value:element.name}],\n                        \"btn btn-primary btn-lg btn-block\",\n                        <string>element.define);\n                    if (element.targetElementID) {\n                        let targetText = $(element.targetElementID).text();\n                        $(\".emulator\").on(\n                            'click',\n                            \"#\"+element.name,\n                            ()=>{\n                                this._stateService.emulatorCentralCallBack(element,targetText);\n                            });\n                    } else {\n                        $(\".emulator\").on(\n                            'click',\n                            \"#\"+element.name,\n                            ()=>{\n                                this._stateService.emulatorCentralCallBack(element);\n                            });\n                    }\n                    row.append(temp);\n                    break;\n                case \"text\":\n                    let temp1 = this.createjQueryItem(\"p\",\n                        [{key:\"id\", value:element.name}],\n                        undefined,\n                        <string>element.define);\n                    row.append(temp1);\n                    break;\n                case \"image\":\n                    let temp2 = this.createjQueryItem(\"img\",\n                        [{key:\"id\", value:element.name}, {key:\"src\", value:<string>element.define}],\n                        \"img-fluid\");\n                    row.append(temp2);\n                    break;\n                case \"input\":\n                    let temp3 = this.createjQueryItem(\"div\", undefined, \"form-group\");\n\n                    let label = this.createjQueryItem(\"label\",\n                        [{key:\"for\", value:element.name}],\n                        \"sr-only\",\n                        <string>element.define);\n                    temp3.append(label);\n\n                    let input = this.createjQueryItem(\"input\",\n                        [{key:\"type\", value:\"text\"}, {key:\"id\", value:element.name}, {key:\"for\", value:element.name}, {key:\"placeholder\", value:<string>element.define}],\n                        \"form-control\",\n                        <string>element.define);\n                    temp3.append(input);\n                    row.append(temp3);\n                    break;\n                case \"list\":\n                    let listGroup = this.createjQueryItem(\"div\", undefined, \"list-group\");\n                    let listItemsData = <Array<IListItem>>(element.define);\n                    for (let item of listItemsData){\n                        let a = this.createjQueryItem(\"a\",\n                            undefined,\n                            \"list-group-item list-group-item-action\");\n                        a.click(this._stateService.emulatorCentralCallBack(element));\n                        let h5 = this.createjQueryItem(\"h5\",\n                            undefined,\n                            \"list-group-item-heading\",\n                            item.title);\n                        let p = this.createjQueryItem(\"p\",\n                            undefined,\n                            \"list-group-item-text\",\n                            item.description);\n                        a.append(h5);\n                        a.append(p);\n                        listGroup.append(a);\n                    }\n                    break;\n            }\n            outDiv.append(row);\n        }\n\n        return outDiv;\n    }\n\n    createPagesAndSave() {\n        for (let page of this._stateService.getPages()){\n            page.afterRenderLayout = this.createPage(page);\n        }\n    }\n\n    createLayout(): JQuery {\n        return this.createjQueryItem('div', undefined, \"container-fluid\");\n    }\n\n    removeElementFromDOM(className: string) {\n        $(className).remove();\n    }\n\n    createjQueryItem(type: string,\n                     attrs?: Array<{key: string,value: string}>,\n                     styleClasses?: string,\n                     text?: string): JQuery {\n        let domElement = $(document.createElement(type));\n        if (styleClasses) {\n            domElement.addClass(styleClasses);\n        }\n        if (attrs) {\n            for (let item of attrs){\n                domElement.attr(item.key, item.value);\n            }\n        }\n\n        if (text) {\n            domElement.text(text);\n        }\n        return domElement;\n    }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./emulator/services/TemplatingService.ts\n **/"],"sourceRoot":""}